<div class="top-panel-actions">
    <div class="titles">
        <h3 class="section-title">Product's</h3>
    </div>
    <div class="right buttons">
        <button class="btn btn-default right" type="button" (click)="addNewProduct()">Add <span class="glyphicon glyphicon-plus" aria-hidden="true"></span></button>
    </div>
</div>

<div class="panel-contents">
    <table class="table">
        <tr>
            <th class="col-lg-4">Name</th>
            <th class="col-lg-4">No. of Ingredients</th>
            <th class="col-lg-4">Actions</th>
        </tr>
        <tr *ngFor="let product of products; let r = index;" (click)="selectProduct(product)">
            <td>{{product.name}}</td>
            <td>{{product.ingredients.length}}</td>
            <td>
                <button class="btn btn-default" type="button" (click)="selectProduct(product)"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></button>
                <button class="btn btn-default" type="button" (click)="deleteProduct(product)"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></button>
            </td>
        </tr>
    </table>
</div>

<modal #newProductModal>
	<form (ngSubmit)="createNewProduct(newRestName.value)" #productForm="ngForm">
    	<div class="form-group">
		
    		<modal-header [show-close]="true">
        		<h4 class="modal-title">Add New Product</h4>
    		</modal-header>
    		<modal-body>
        		<label for="newRestName">Name</label>
        		<input type="text" class="form-control" id="newRestName" #newRestName required/>
    		</modal-body>
    		<modal-footer>
        		<button type="button" class="btn btn-default" data-dismiss="modal" (click)="modal.dismiss()">Cancel</button>
        		<button type="submit" class="btn btn-default" [disabled]="!productForm.form.valid">Create</button>
    		</modal-footer>
		
    	</div>

	</form>
</modal> 